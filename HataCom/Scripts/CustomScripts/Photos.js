!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s="./PhotosMain.ts")}({"./PhotosAdapt.ts":
/*!************************!*\
  !*** ./PhotosAdapt.ts ***!
  \************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst PhotosDomElements_1 = __webpack_require__(/*! ./PhotosDomElements */ \"./PhotosDomElements.ts\");\r\nclass PhotosAdapt {\r\n    constructor() {\r\n        this.width = document.body.clientWidth;\r\n        this.height = screen.height;\r\n    }\r\n    init() {\r\n        const photosDomElements = new PhotosDomElements_1.PhotosDomElements();\r\n        window.addEventListener('load', () => {\r\n            this.width = document.body.clientWidth;\r\n            this.height = screen.height;\r\n            if (this.width < 576) {\r\n                this.addClass();\r\n            }\r\n            else if (this.width > 575) {\r\n                this.removeClass();\r\n            }\r\n        });\r\n        window.addEventListener('resize', () => {\r\n            this.width = document.body.clientWidth;\r\n            this.height = screen.height;\r\n            if (this.width < 576) {\r\n                this.addClass();\r\n            }\r\n            else if (this.width > 575) {\r\n                this.removeClass();\r\n            }\r\n        });\r\n        // Height of main container\r\n        photosDomElements.mainContainer.style.minHeight = (this.height - 55).toString() + 'px';\r\n    }\r\n    /** Add a new classes for mobile mode */\r\n    addClass() {\r\n        const photosDomElements = new PhotosDomElements_1.PhotosDomElements();\r\n        photosDomElements.addBtn.classList.add('add-photos-btn-mobile');\r\n        photosDomElements.addBtn.innerHTML = '<i class=\"fas fa-plus\"></i>';\r\n        photosDomElements.editBtn.classList.add('edit-album-btn-mobile');\r\n        photosDomElements.editBtn.innerHTML = '<i class=\"fas fa-cog\">';\r\n        photosDomElements.popUpRemove.classList.add('pop-up-remove-btn-mobile');\r\n        photosDomElements.popUpRemove.innerHTML = '<i class=\"fas fa-trash-alt\"></i>';\r\n        photosDomElements.popUpSave.classList.add('pop-up-save-mobile');\r\n        photosDomElements.popUpSave.classList.add('ml-3');\r\n        photosDomElements.popUpSave.innerHTML = '<i class=\"fas fa-save\"></i>';\r\n    }\r\n    /** Remove mobile mode classes */\r\n    removeClass() {\r\n        const photosDomElements = new PhotosDomElements_1.PhotosDomElements();\r\n        photosDomElements.addBtn.classList.remove('add-photos-btn-mobile');\r\n        photosDomElements.addBtn.innerHTML = 'Додати фото';\r\n        photosDomElements.editBtn.classList.remove('edit-album-btn-mobile');\r\n        photosDomElements.editBtn.innerHTML = '<i class=\"fas fa-cog mr-2\"></i>' + 'Редагування';\r\n        photosDomElements.popUpRemove.classList.remove('pop-up-remove-btn-mobile');\r\n        photosDomElements.popUpRemove.innerHTML = '<i class=\"fas fa-trash-alt mr-2\"></i>' + 'Видалити фото';\r\n        photosDomElements.popUpSave.classList.remove('pop-up-save-mobile');\r\n        photosDomElements.popUpSave.innerHTML = '<i class=\"fas fa-save mr-2\"></i>' + 'Зберегти';\r\n    }\r\n}\r\nexports.PhotosAdapt = PhotosAdapt;\r\n\n\n//# sourceURL=webpack:///./PhotosAdapt.ts?")},"./PhotosDomElements.ts":
/*!******************************!*\
  !*** ./PhotosDomElements.ts ***!
  \******************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass PhotosDomElements {\r\n    constructor() {\r\n        this.mainContainer = document.querySelector('.main-container');\r\n        this.navBar = document.querySelector('.navbar');\r\n        this.navbarToggler = document.querySelector('.navbar-toggler');\r\n        this.breadCrumb = document.querySelector('.breadcrumbs');\r\n        this.addBtn = document.querySelector('.add-photos-btn');\r\n        this.editBtn = document.querySelector('.edit-album-btn');\r\n        this.popUpRemove = document.querySelector('.pop-up-remove-btn');\r\n        this.popUp = document.querySelector('.pop-up');\r\n        this.popUpCancel = document.querySelector('.pop-up-cancel');\r\n        this.popUpSave = document.querySelector('.pop-up-save');\r\n        this.albumName = document.querySelector('.album-name');\r\n        this.albumDescription = document.querySelector('.album-description');\r\n        this.albumNameEditing = document.querySelector('.album-name-editing');\r\n        this.albumDescriptionEditing = document.querySelector('.album-description-editing');\r\n        this.albumNameLabel = document.querySelector('.album-name-label');\r\n        this.albumDescriptionLabel = document.querySelector('.album-description-label');\r\n    }\r\n}\r\nexports.PhotosDomElements = PhotosDomElements;\r\n\n\n//# sourceURL=webpack:///./PhotosDomElements.ts?")},"./PhotosEdit.ts":
/*!***********************!*\
  !*** ./PhotosEdit.ts ***!
  \***********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst PhotosDomElements_1 = __webpack_require__(/*! ./PhotosDomElements */ \"./PhotosDomElements.ts\");\r\nconst photosDomElements = new PhotosDomElements_1.PhotosDomElements();\r\nconst dataToEdit = {\r\n    albumName: '',\r\n    albumDescription: '',\r\n    photosToEdit: []\r\n};\r\nconst albumNameString = photosDomElements.albumName.innerHTML.trim();\r\nconst albumDescString = photosDomElements.albumDescription.innerHTML.trim();\r\nlet isPhotosTextAreaChanged = false;\r\nclass PhotosEdit {\r\n    init() {\r\n        document.addEventListener('DOMContentLoaded', () => {\r\n            // Start edit\r\n            photosDomElements.editBtn.addEventListener('click', () => {\r\n                this.startEdit();\r\n                this.albumNameEdit();\r\n                this.albumDescriptionEdit();\r\n                this.photosNamesEdit();\r\n                this.photosCheckboxesEdit();\r\n                this.removeSelectedPhotos();\r\n                this.saveChanges();\r\n            });\r\n            // Cancel edit\r\n            photosDomElements.popUpCancel.addEventListener('click', this.cancelEdit);\r\n        });\r\n    }\r\n    startEdit() {\r\n        photosDomElements.albumName.style.display = 'none';\r\n        photosDomElements.albumNameEditing.style.display = 'block';\r\n        photosDomElements.albumDescription.style.display = 'none';\r\n        photosDomElements.albumDescriptionEditing.style.display = 'block';\r\n        photosDomElements.popUp.style.marginTop = '55px';\r\n        photosDomElements.addBtn.style.display = 'none';\r\n        photosDomElements.editBtn.style.display = 'none';\r\n        photosDomElements.albumNameLabel.style.display = 'block';\r\n        photosDomElements.albumDescriptionLabel.style.display = 'block';\r\n        photosDomElements.breadCrumb.style.opacity = '0';\r\n        dataToEdit.albumName = photosDomElements.albumName.innerHTML.trim();\r\n        dataToEdit.albumDescription = photosDomElements.albumDescription.innerHTML.trim();\r\n        // Show checkboxes\r\n        const checkboxToShowArray = document.querySelectorAll('.checkbox-remove');\r\n        checkboxToShowArray.forEach((element) => {\r\n            element.style.display = 'block';\r\n        });\r\n        // Hide photos names\r\n        const photosNames = document.querySelectorAll('.photo-name');\r\n        photosNames.forEach((element) => {\r\n            element.style.display = 'none';\r\n        });\r\n        // Show textarea photos names\r\n        const photosTextAreaNames = document.querySelectorAll('.photo-name-editing');\r\n        photosTextAreaNames.forEach((element) => {\r\n            element.style.display = 'block';\r\n        });\r\n        // Disable photo links\r\n        const photoLinksToDisableArray = document.querySelectorAll('.photo-link');\r\n        photoLinksToDisableArray.forEach((element) => {\r\n            element.removeAttribute('href');\r\n            element.removeAttribute('data-fancybox');\r\n        });\r\n    }\r\n    albumNameEdit() {\r\n        // Fill textarea album name field\r\n        photosDomElements.albumNameEditing.innerHTML = albumNameString;\r\n        photosDomElements.albumNameEditing.addEventListener('input', (event) => {\r\n            dataToEdit.albumName = event.currentTarget.value;\r\n            if (dataToEdit.albumName !== albumNameString || dataToEdit.albumDescription !== albumDescString || isPhotosTextAreaChanged) {\r\n                photosDomElements.popUpSave.removeAttribute('disabled');\r\n            }\r\n            else {\r\n                photosDomElements.popUpSave.setAttribute('disabled', 'true');\r\n            }\r\n        });\r\n    }\r\n    albumDescriptionEdit() {\r\n        // Fill textarea album description field\r\n        photosDomElements.albumDescriptionEditing.innerHTML = albumDescString;\r\n        photosDomElements.albumDescriptionEditing.addEventListener('input', (event) => {\r\n            dataToEdit.albumDescription = event.currentTarget.value;\r\n            if (dataToEdit.albumDescription !== albumDescString || dataToEdit.albumName !== albumNameString || isPhotosTextAreaChanged) {\r\n                photosDomElements.popUpSave.removeAttribute('disabled');\r\n            }\r\n            else {\r\n                photosDomElements.popUpSave.setAttribute('disabled', 'true');\r\n            }\r\n        });\r\n    }\r\n    photosNamesEdit() {\r\n        const photosNamesArray = document.querySelectorAll('.photo-name');\r\n        const photosTextAreaNamesArray = document.querySelectorAll('.photo-name-editing');\r\n        // Fill photos textarea fields\r\n        for (let i = 0; i < photosNamesArray.length; i++) {\r\n            photosTextAreaNamesArray[i].innerHTML = photosNamesArray[i].innerHTML.trim();\r\n        }\r\n        // Fill \"dataToEdit.photosToEdit\" array\r\n        for (const element of photosTextAreaNamesArray) {\r\n            dataToEdit.photosToEdit.push({ photoId: element.dataset.id, photoName: element.innerHTML });\r\n        }\r\n        // Add event listener on each photo textarea element\r\n        photosTextAreaNamesArray.forEach((element) => {\r\n            element.addEventListener('input', (event) => {\r\n                element.innerHTML = (event.currentTarget.value);\r\n                // Add new \"photoName\" value to \"dataToEdit.photosToEdit\" array\r\n                for (let i = 0; i < photosTextAreaNamesArray.length; i++) {\r\n                    dataToEdit.photosToEdit[i].photoName = photosTextAreaNamesArray[i].innerHTML;\r\n                }\r\n                // Create checking string arrays\r\n                const allTextAreaPhotosNamesArray = [];\r\n                const allPhotosNamesArray = [];\r\n                // Fill checking string arrays\r\n                for (const element of photosTextAreaNamesArray) {\r\n                    allTextAreaPhotosNamesArray.push(element.innerHTML);\r\n                }\r\n                for (const element of photosNamesArray) {\r\n                    allPhotosNamesArray.push(element.innerHTML);\r\n                }\r\n                // Create variables of concatenation of all strings\r\n                const concAllPhotosTextAreaStrings = allTextAreaPhotosNamesArray.join('');\r\n                const concAllPhotosNamesStrings = allPhotosNamesArray.join('');\r\n                // Check for changes\r\n                if (concAllPhotosTextAreaStrings !== concAllPhotosNamesStrings) {\r\n                    photosDomElements.popUpSave.removeAttribute('disabled');\r\n                    isPhotosTextAreaChanged = true;\r\n                }\r\n                else {\r\n                    isPhotosTextAreaChanged = false;\r\n                    if (dataToEdit.albumName === albumNameString &&\r\n                        dataToEdit.albumDescription === albumDescString) {\r\n                        photosDomElements.popUpSave.setAttribute('disabled', 'true');\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n    photosCheckboxesEdit() {\r\n        // Fill \"toRemove\" properties of \"dataToEdit.photosToEdit\" array\r\n        const checkboxToRemoveArray = document.querySelectorAll('.checkbox-remove');\r\n        for (let i = 0; i < checkboxToRemoveArray.length; i++) {\r\n            dataToEdit.photosToEdit[i].toRemove = checkboxToRemoveArray[i].checked;\r\n        }\r\n        // Add event listener on each checkbox element\r\n        checkboxToRemoveArray.forEach((element) => {\r\n            element.addEventListener('input', () => {\r\n                for (const arrayElement of checkboxToRemoveArray) {\r\n                    if (arrayElement.checked === true) {\r\n                        photosDomElements.popUpRemove.removeAttribute('disabled');\r\n                        break;\r\n                    }\r\n                    else {\r\n                        photosDomElements.popUpRemove.setAttribute('disabled', 'true');\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    }\r\n    removeSelectedPhotos() {\r\n        photosDomElements.popUpRemove.addEventListener('click', () => {\r\n            var _a, _b;\r\n            const checkboxToRemoveArray = document.querySelectorAll('.checkbox-remove');\r\n            for (const arrayElement of checkboxToRemoveArray) {\r\n                if (arrayElement.checked === true) {\r\n                    const result = dataToEdit.photosToEdit.filter((element) => {\r\n                        return element.photoId === arrayElement.id;\r\n                    });\r\n                    for (const iterator of dataToEdit.photosToEdit) {\r\n                        if (iterator.photoId === result[0].photoId) {\r\n                            iterator.toRemove = true;\r\n                        }\r\n                    }\r\n                    (_b = (_a = document.getElementById(`${arrayElement.id}`)) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.setAttribute('style', 'opacity: 0');\r\n                    setTimeout(() => {\r\n                        var _a, _b;\r\n                        (_b = (_a = document.getElementById(`${arrayElement.id}`)) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.remove();\r\n                    }, 300);\r\n                }\r\n            }\r\n            photosDomElements.popUpRemove.setAttribute('disabled', 'true');\r\n            photosDomElements.popUpSave.removeAttribute('disabled');\r\n        });\r\n    }\r\n    saveChanges() {\r\n        // Create and fill new photoNames array for check\r\n        const photosNamesInnerHtmlArray = [];\r\n        for (const element of dataToEdit.photosToEdit) {\r\n            if (typeof element.photoName === 'string') {\r\n                photosNamesInnerHtmlArray.push(element.photoName);\r\n            }\r\n        }\r\n        // Add event listener on \"save\" button\r\n        photosDomElements.popUpSave.addEventListener('click', (event) => {\r\n            event.preventDefault();\r\n            // Check for changes in albumName\r\n            if (dataToEdit.albumName === albumNameString) {\r\n                delete dataToEdit.albumName;\r\n            }\r\n            // Check for changes in albumDescription\r\n            if (dataToEdit.albumDescription === albumDescString) {\r\n                delete dataToEdit.albumDescription;\r\n            }\r\n            // Check for changes in photos properties\r\n            for (let i = 0; i < dataToEdit.photosToEdit.length; i++) {\r\n                if (dataToEdit.photosToEdit[i].photoName === photosNamesInnerHtmlArray[i] &&\r\n                    dataToEdit.photosToEdit[i].toRemove === false) {\r\n                    dataToEdit.photosToEdit.splice(i, 1);\r\n                    photosNamesInnerHtmlArray.splice(i, 1);\r\n                    i--;\r\n                }\r\n            }\r\n            console.log('Data to save:', dataToEdit);\r\n        });\r\n    }\r\n    cancelEdit() {\r\n        photosDomElements.popUp.style.marginTop = '-100px';\r\n        photosDomElements.albumName.style.display = 'block';\r\n        photosDomElements.albumNameEditing.style.display = 'none';\r\n        photosDomElements.albumDescription.style.display = 'block';\r\n        photosDomElements.albumDescriptionEditing.style.display = 'none';\r\n        photosDomElements.addBtn.style.display = 'block';\r\n        photosDomElements.editBtn.style.display = 'block';\r\n        photosDomElements.albumNameLabel.style.display = 'none';\r\n        photosDomElements.albumDescriptionLabel.style.display = 'none';\r\n        photosDomElements.breadCrumb.style.opacity = '1';\r\n        // Hide checkboxes\r\n        const checkboxRemoveArray = document.querySelectorAll('.checkbox-remove');\r\n        checkboxRemoveArray.forEach((element) => {\r\n            element.style.display = 'none';\r\n        });\r\n        // Show photos names\r\n        const photosNames = document.querySelectorAll('.photo-name');\r\n        photosNames.forEach((element) => {\r\n            element.style.display = 'block';\r\n        });\r\n        // Hide textarea photos names\r\n        const photosTextAreaNames = document.querySelectorAll('.photo-name-editing');\r\n        photosTextAreaNames.forEach((element) => {\r\n            element.style.display = 'none';\r\n        });\r\n        // Reload page\r\n        setTimeout(() => {\r\n            location.reload();\r\n        }, 300);\r\n    }\r\n}\r\nexports.PhotosEdit = PhotosEdit;\r\n\n\n//# sourceURL=webpack:///./PhotosEdit.ts?")},"./PhotosMain.ts":
/*!***********************!*\
  !*** ./PhotosMain.ts ***!
  \***********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\r\nObject.defineProperty(exports, "__esModule", { value: true });\r\nconst PhotosEdit_1 = __webpack_require__(/*! ./PhotosEdit */ "./PhotosEdit.ts");\r\nconst PhotosAdapt_1 = __webpack_require__(/*! ./PhotosAdapt */ "./PhotosAdapt.ts");\r\nclass PhotosMain {\r\n    init() {\r\n        const photosEdit = new PhotosEdit_1.PhotosEdit();\r\n        const photosAdapt = new PhotosAdapt_1.PhotosAdapt();\r\n        photosEdit.init();\r\n        photosAdapt.init();\r\n    }\r\n}\r\nconst main = new PhotosMain();\r\nmain.init();\r\n\n\n//# sourceURL=webpack:///./PhotosMain.ts?')}});